#include <stdio.h>
#include <stdint.h>
#include <system.h>
#include <map.h>

/*field*/
int32_t world_map_field[ROW][COL] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 9},
    {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 9},
    {0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 9},
    {0, 0, 0, 0, 0, 1, 0, 0, 0, 7, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 1, 2, 1, 1, 1, 1, 4, 9},
    {0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 9},
};

int32_t NORTH_MEADOW_field[ROW][COL] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 9},
    {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 9},
    {0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 9},
    {0, 0, 0, 0, 0, 1, 0, 0, 0, 7, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 1, 2, 1, 1, 1, 1, 4, 9},
    {0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 9},
};

int32_t EAST_MOUNTAIN_field[ROW][COL] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 9},
    {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 9},
    {0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 9},
    {0, 0, 0, 0, 0, 1, 0, 0, 0, 7, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 1, 2, 1, 1, 1, 1, 4, 9},
    {0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 9},
};

int32_t WEST_DESERT_field[ROW][COL] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 9},
    {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 9},
    {0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 9},
    {0, 0, 0, 0, 0, 1, 0, 0, 0, 7, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 1, 2, 1, 1, 1, 1, 4, 9},
    {0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 9},
};

int32_t SOUTH_PORT_field[ROW][COL] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 9},
    {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 9},
    {0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 9},
    {0, 0, 0, 0, 0, 1, 0, 0, 0, 7, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 1, 2, 1, 1, 1, 1, 4, 9},
    {0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 9},
};

int32_t CRISTAL_CAVE_field[ROW][COL] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 9},
    {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 9},
    {0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 9},
    {0, 0, 0, 0, 0, 1, 0, 0, 0, 7, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 0, 0, 1, 2, 1, 1, 1, 1, 4, 9},
    {0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 9},
    {0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 9},
    {5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 9},
};

//map_list
map_t map_list[10] = {
    {"世界地図" , WORLD_MAP, (int32_t *)world_map_field},
    {"北の平原" , NORTH_MEADOW, (int32_t *)world_map_field},
    {"東の山" , EAST_MOUNTAIN, (int32_t *)world_map_field},
    {"西の砂漠" , WEST_DESERT, (int32_t *)world_map_field},
    {"南の港" , SOUTH_PORT, (int32_t *)world_map_field},
    {"クリスタルの洞窟" , CRISTAL_CAVE, (int32_t *)world_map_field},
};

int32_t map_view(player_info_t *player_info){
    DEBUG("map_tag:%d", player_info->map_tag);
    PRINT("---------------------------");
    PRINT("%s", map_list[player_info->map_tag].map_name);
    for(int32_t i = 0 ; i < 110; i++){
        switch (map_list[player_info->map_tag].field[i]){
            case OPEN_SPACE:
                printf("  ");
                break;
            case ROAD:
                printf(" +");
                break;
            case 9:
                printf("\n");
                break;
            default:
                printf(" @");
                break;
        }
    }
    PRINT("---------------------------");
    if(player_info->map_tag == WORLD_MAP){
        PRINT("@: 街");
        PRINT("+: 道");
    }
}